<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PasPages Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: '#050505',
                        panel: '#111111', 
                        accent: '#00ff9d',
                        border: '#222222',
                        text: '#e0e0e0'
                    }
                }
            }
        }
    </script>
    <style type="text/css">
        /* --- SCROLLBAR CUSTOMIZATION --- */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #00ff9d; }

        /* --- PLUGIN COMPATIBILITY LAYER --- */
        .content-area h1 { font-size: 1.5rem; font-weight: 800; color: white; margin-bottom: 1.5rem; border-bottom: 1px solid #222; padding-bottom: 1rem; }
        .content-area h2 { font-size: 1.25rem; font-weight: 700; color: white; margin-bottom: 1rem; margin-top: 1.5rem; }
        .content-area h3 { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: #00ff9d; margin-bottom: 0.5rem; font-weight: bold; }
        .content-area p { color: #888; font-size: 0.9rem; line-height: 1.6; margin-bottom: 1rem; }

        /* Cards */
        .content-area .card { background-color: #111; border: 1px solid #222; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem; position: relative; }

        /* Buttons */
        .content-area button, .btn-save, .btn-primary {
            background-color: #00ff9d; color: black; font-weight: 700; padding: 0.6rem 1.2rem;
            border-radius: 0.375rem; border: none; cursor: pointer; font-size: 0.875rem;
            transition: all 0.2s; display: inline-block; margin-top: 0.5rem;
        }
        .content-area button:hover { background-color: white; box-shadow: 0 0 10px rgba(0,255,157, 0.5); }

        /* Inputs */
        .content-area label { display: block; color: #666; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; margin-bottom: 0.4rem; }
        .content-area input, .content-area select, .content-area textarea {
            width: 100%; background-color: black; border: 1px solid #333; color: white;
            padding: 0.75rem; border-radius: 0.375rem; font-size: 0.875rem; outline: none;
            display: block; margin-bottom: 1rem;
        }
        .content-area input:focus { border-color: #00ff9d; }

        /* Tables */
        .content-area table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        .content-area th { text-align: left; color: #666; font-size: 0.7rem; text-transform: uppercase; padding: 0.75rem; border-bottom: 1px solid #222; }
        .content-area td { padding: 0.75rem; border-bottom: 1px solid #1a1a1a; color: #ccc; font-size: 0.9rem; }
        
        /* Sidebar Link Styling (Matches routes.ts) */
        .nav-item-link { display:flex; align-items:center; padding: 0.5rem 0.75rem; font-size: 0.875rem; font-weight: 500; color: #9ca3af; border-radius: 0.375rem; margin-bottom: 0.25rem; transition: all 0.2s; }
        .nav-item-link:hover { background-color: rgba(255,255,255,0.05); color: white; }
    </style>
</head>
<body class="bg-dark text-text antialiased overflow-hidden" x-data="{ sidebarOpen: false }">

    <div class="flex h-screen w-full overflow-hidden">
        
        <div x-show="sidebarOpen" @click="sidebarOpen = false" 
             class="fixed inset-0 bg-black/80 backdrop-blur-sm z-40 lg:hidden"
             x-transition.opacity></div>

        <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'" 
               class="fixed inset-y-0 left-0 w-72 bg-panel border-r border-border z-50 transform transition-transform duration-300 lg:translate-x-0 lg:static lg:block shrink-0 flex flex-col h-full">
            
            <div class="p-6 border-b border-border shrink-0">
                <div class="text-2xl font-black tracking-tighter text-white italic">
                    PasPages <span class="text-accent">CORE</span>
                </div>
            </div>

            <nav class="flex-1 overflow-y-auto py-6 px-4 space-y-1">
                <div class="px-2 mb-2 text-[10px] uppercase tracking-widest text-gray-600 font-bold">System</div>
                <a href="/admin" class="nav-item-link group">
                    <span class="w-2 h-2 rounded-full bg-gray-600 mr-3 group-hover:bg-accent transition-colors"></span> Dashboard
                </a>
                <a href="/admin/settings" class="nav-item-link group">
                    <span class="w-2 h-2 rounded-full bg-gray-600 mr-3 group-hover:bg-accent transition-colors"></span> Settings
                </a>

                <div class="px-2 mt-8 mb-2 text-[10px] uppercase tracking-widest text-gray-600 font-bold border-t border-border pt-4">Plugins</div>
                {{sidebar_plugins}}

                <div class="px-2 mt-8 mb-2 text-[10px] uppercase tracking-widest text-gray-600 font-bold border-t border-border pt-4">Themes</div>
                {{sidebar_themes}}
            </nav>

            <div class="p-4 border-t border-border bg-black/20 shrink-0">
                <div class="flex items-center gap-2 text-xs text-gray-600">
                    <div class="w-2 h-2 bg-accent rounded-full animate-pulse"></div> v1.0.0 Stable
                </div>
            </div>
        </aside>

        <div class="flex-1 flex flex-col h-full min-w-0 bg-[#0d0d0d] relative">
            
            <header class="h-16 shrink-0 bg-panel/90 backdrop-blur-md border-b border-border flex items-center justify-between px-4 lg:px-8 z-20 sticky top-0">
                <div class="flex items-center gap-4">
                    <button @click="sidebarOpen = true" class="lg:hidden text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-widest border-l border-border pl-4 ml-2 lg:ml-0 lg:border-none lg:pl-0">
                        {{title}}
                    </span>
                </div>
                <div class="bg-black px-3 py-1 rounded-full border border-border text-[10px] font-mono text-accent">
                    {{plugin_count}} MODULES
                </div>
            </header>

            <main class="flex-1 overflow-y-auto relative z-10">
                <div class="p-4 lg:p-10 max-w-6xl mx-auto content-area pb-20">
                    {{content}}
                </div>
            </main>

        </div>
    </div>

</body>
</html>